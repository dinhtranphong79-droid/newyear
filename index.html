<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ðŸŽ† Happy New Year 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{
  margin:0;
  padding:0;
  background:black;
  overflow:hidden;
}
canvas{display:block;}
</style>
</head>
<body>

<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize",resize);

/* ================== UTILS ================== */
const rand=(a,b)=>Math.random()*(b-a)+a;
const colors=()=>`hsl(${rand(0,360)},100%,60%)`;

/* ================== FIREWORK ================== */
let fireworks=[];
let intensity=0.015; // báº¯t Ä‘áº§u thÆ°a

function launch(){
  fireworks.push({
    x:rand(50,canvas.width-50),
    y:canvas.height,
    vx:rand(-1.5,1.5),
    vy:-rand(10,15),
    t:0,
    exploded:false,
    type:Math.floor(rand(0,4)),
    parts:[]
  });
}

function explode(f){
  let count = Math.floor(rand(60,160));
  for(let i=0;i<count;i++){
    let angle,speed,vx,vy;
    if(f.type===0){ // circle
      angle=Math.random()*Math.PI*2;
      speed=rand(2,6);
      vx=Math.cos(angle)*speed;
      vy=Math.sin(angle)*speed;
    }
    if(f.type===1){ // star
      angle=(Math.PI*2/5)*(i%5);
      speed=rand(3,6);
      vx=Math.cos(angle)*speed;
      vy=Math.sin(angle)*speed;
    }
    if(f.type===2){ // spiral
      angle=i*0.35;
      speed=i*0.03;
      vx=Math.cos(angle)*speed;
      vy=Math.sin(angle)*speed;
    }
    if(f.type===3){ // rain
      angle=Math.PI/2+rand(-0.4,0.4);
      speed=rand(3,7);
      vx=Math.cos(angle)*speed;
      vy=Math.sin(angle)*speed;
    }
    f.parts.push({
      x:f.x,y:f.y,
      vx,vy,
      life:rand(50,100),
      color:colors()
    });
  }
  f.exploded=true;
}

function updateFireworks(){
  for(let i=fireworks.length-1;i>=0;i--){
    let f=fireworks[i];
    if(!f.exploded){
      f.x+=f.vx;
      f.y+=f.vy;
      f.vy+=0.25;
      f.t++;
      if(f.t>rand(25,45)) explode(f);
    }else{
      f.parts.forEach(p=>{
        p.x+=p.vx;
        p.y+=p.vy;
        p.vy+=0.05;
        p.life--;
      });
      f.parts=f.parts.filter(p=>p.life>0);
      if(!f.parts.length) fireworks.splice(i,1);
    }
  }
}

function drawFireworks(){
  fireworks.forEach(f=>{
    f.parts.forEach(p=>{
      ctx.fillStyle=p.color;
      ctx.fillRect(p.x,p.y,2,2);
    });
  });
}

/* ================== TEXT ================== */
let showText=false;
let textParts=[];

function createText(){
  const off=document.createElement("canvas");
  const octx=off.getContext("2d");
  off.width=canvas.width;
  off.height=canvas.height;

  octx.fillStyle="white";
  octx.font="bold 90px Arial";
  octx.textAlign="center";
  octx.textBaseline="middle";
  octx.fillText("HAPPY NEW YEAR 2026",canvas.width/2,canvas.height/2);

  let d=octx.getImageData(0,0,off.width,off.height).data;
  for(let y=0;y<off.height;y+=6){
    for(let x=0;x<off.width;x+=6){
      if(d[(y*off.width+x)*4+3]>150){
        textParts.push({
          x:rand(0,canvas.width),
          y:canvas.height+rand(50,300),
          tx:x,ty:y,
          vx:0,vy:0,
          color:colors()
        });
      }
    }
  }
}

function updateText(){
  textParts.forEach(p=>{
    p.vx+=(p.tx-p.x)*0.02;
    p.vy+=(p.ty-p.y)*0.02;
    p.vx*=0.85; p.vy*=0.85;
    p.x+=p.vx; p.y+=p.vy;
    ctx.fillStyle=p.color;
    ctx.fillRect(p.x,p.y,2,2);
  });
}

/* ================== LOOP ================== */
function animate(){
  ctx.fillStyle="rgba(0,0,0,0.25)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // ðŸ“ˆ tÄƒng dáº§n Ä‘á»™ dá»“n dáº­p
  intensity=Math.min(intensity+0.00002,0.09);
  if(Math.random()<intensity) launch();

  updateFireworks();
  drawFireworks();
  if(showText) updateText();

  requestAnimationFrame(animate);
}
animate();

/* â± 15 GIÃ‚Y HIá»†N CHá»® */
setTimeout(()=>{
  showText=true;
  createText();
},15000);
</script>

</body>
</html>
